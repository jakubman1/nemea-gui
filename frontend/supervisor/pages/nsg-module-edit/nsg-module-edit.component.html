<div class="nsg-tab-edit">
  <div *ngIf="backendErrors.length > 0"
       class="nsg-err-msg">
    <ul>
      <li *ngFor="let err of backendErrors">
        {{err}}
      </li>
    </ul>
  </div>
  <form #editForm="ngForm"
        id="editForm"
        (submit)="onSubmit()"
        (change)="onFormEdit(editForm)">
    <div class="row">
      <div class="col-md-6">
        <table>
          <tr>
            <td width="42%">Module name:</td>
            <td>
              <input [(ngModel)]="nsgModule.name"
                     #name="ngModel"
                     name="name"
                     required
                     type="text"
                     class="form-control-plaintext">
              <div *ngIf="name.dirty && name.errors && name.errors.required"
                    class="nsg-err-msg">
                This field is required
              </div>
            </td>
          </tr>
          <tr>
            <td>Module path:</td>
            <td>
              <input [(ngModel)]="nsgModule.path"
                     #path="ngModel"
                     name="path"
                     required type="text" class="form-control-plaintext">
              <div *ngIf="path.dirty && path.errors && path.errors.required"
                   class="nsg-err-msg">
                This field is required
              </div>
            </td>
          </tr>
          <tr>
            <td>TRAP monitorable?</td>
            <td>
              <label class="toggle-check">
                <input [(ngModel)]="nsgModule.trap_monitorable"
                       name="trap_monitorable"
                       class="toggle-check-input"
                       type="checkbox">
                <span class="toggle-check-text"></span>
              </label>
            </td>
          </tr>
          <tr *ngIf="nsgModule.trap_monitorable">
            <td>Number of IN interfaces?</td>
            <td>
              <input [(ngModel)]="nsgModule.in_ifces_cnt"
                     #in_ifces_cnt="ngModel"
                     name="in_ifces_cnt"
                     required type="text" class="form-control-plaintext">
              <div *ngIf="in_ifces_cnt.dirty && in_ifces_cnt.errors && in_ifces_cnt.errors.required"
                   class="nsg-err-msg">
                This field is required
              </div>
            </td>
          </tr>
          <tr *ngIf="nsgModule.trap_monitorable">
            <td>Number of OUT interfaces?</td>
            <td>
              <input [(ngModel)]="nsgModule.out_ifces_cnt"
                     #out_ifces_cnt="ngModel"
                     name="out_ifces_cnt"
                     required type="text" class="form-control-plaintext">
              <div *ngIf="out_ifces_cnt.dirty && out_ifces_cnt.errors && out_ifces_cnt.errors.required"
                   class="nsg-err-msg">
                This field is required
              </div>
            </td>
          </tr>
          <tr>
            <td>Use TRAP interfaces?</td>
            <td>
              <label class="toggle-check">
                <input [(ngModel)]="nsgModule.use_trap_ifces"
                       name="trap_monitorable"
                       class="toggle-check-input"
                       type="checkbox">
                <span class="toggle-check-text"></span>
              </label>
            </td>
          </tr>

        </table>
      </div>
      <div class="col-md-6">
        <table>
          <tr>
            <td width="42%">Sysrepo ready?</td>
            <td>
              <label class="toggle-check">
                <input [(ngModel)]="nsgModule.is_sysrepo_ready"
                       name="is_sysrepo_ready"
                       class="toggle-check-input"
                       type="checkbox">
                <span class="toggle-check-text"></span>
              </label>
            </td>
          </tr>
          <tr *ngIf="nsgModule.is_sysrepo_ready">
            <td>Sysrepo callbacks ready?</td>
            <td>
              <label class="toggle-check">
                <input [(ngModel)]="nsgModule.sr_callbacks_ready"
                       name="sr_callbacks_ready"
                       class="toggle-check-input"
                       type="checkbox">
                <span class="toggle-check-text"></span>
              </label>
            </td>
          </tr>
          <tr>
            <td>Description:</td>
            <td>
              <textarea [(ngModel)]="nsgModule.description"
                        #description="ngModel"
                        name="description"
                        required
                        rows="7"></textarea>
              <div *ngIf="description.dirty && description.errors && description.errors.required"
                   class="nsg-err-msg">
                This field is required
              </div>
            </td>
          </tr>
        </table>
      </div>
    </div>
  </form>
  <div class="row bottom-col">
    <button (click)="resetForm()"
            class="nsg-btn">
      Reset values
    </button>
    <button form="editForm"
            [disabled]="editForm.invalid"
            type="submit"
            class="nsg-btn">
      Save module
    </button>
  </div>
</div>